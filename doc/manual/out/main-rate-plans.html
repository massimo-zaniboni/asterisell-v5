<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head><meta charset="UTF-8" />
      <title>Main rate plans</title><link href="res/webhelp.css" rel="stylesheet" type="text/css" /><meta content="The income Main rate plan and cost Main rate plan describe the rating plan logic, from an high-level point of view, using a domain specific language." name="description" />
      <meta content="XMLmind DITA Converter 3.3.1" name="generator" />
   <script charset="UTF-8" defer="defer" src="_wh/snowball_en.min.js" type="text/javascript"></script><link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css" /><link href="_wh/wh.css" rel="stylesheet" type="text/css" /><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript">
    </script><script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript">
    </script><script charset="UTF-8" src="_wh/wh.min.js" type="text/javascript">
    </script><script charset="UTF-8" defer="defer" src="_wh/search.js" type="text/javascript">
    </script></head>
   
<body>
    

    <div id="wh-body">
      <div id="wh-navigation">
        <ul id="wh-tabs">
          <li id="wh-toc-tab"><a href="#wh-toc-pane"><span>Contents</span></a></li>
          
          <li id="wh-search-tab"><a href="#wh-search-pane"><span>Search</span></a></li>
        </ul>
        <div id="wh-toc-pane">
          <div id="wh-toc-form">
            <span id="wh-toc-control"><a href="#">Collapse 
            All</a><a href="#">Expand All</a></span>
            <button id="wh-toc-previous">Previous</button>
            <button id="wh-toc-next">Next</button>
            <button id="wh-toc-print">Print</button>
          </div>
          <script charset="UTF-8" src="_wh/toc.js" type="text/javascript">
          </script>
        </div>
        
        <div id="wh-search-pane">
          <div id="wh-search-form">
            <input id="wh-search-field" type="text" /><button id="wh-search-button">Search</button><span id="wh-highlight-group"><input checked="checked" id="wh-highlight-toggle" type="checkbox" /><label for="wh-highlight-toggle" id="wh-highlight-icon"><span class="ui-icon ui-icon-flag"></span></label></span>
          </div>
          <div id="wh-search-results">
          </div>
        </div>
      </div>
      <div id="wh-separator">
      </div>
      <div id="wh-content">
      
      <header class="page-navigation-header">
         <table class="page-navigation-layout" style="width: 100%;">
            <tr>
               <td style="text-align: left;vertical-align: top;"><a class="navigation-link" href="manual.html" title="First page: Asterisell Manual"><img alt="First page" class="navigation-icon" height="16" src="res/first.png" width="16" /></a></td>
               <td style="text-align: left;vertical-align: top;"><a class="navigation-link" href="importing-of-cdrs.html" title="Previous page: Importing of CDRS"><img alt="Previous page" class="navigation-icon" height="16" src="res/previous.png" width="16" /></a></td>
               <td style="width: 25%;text-align: left;vertical-align: top;"><span class="page-navigation-previous">Importing of CDRS</span></td>
               <td style="width: 40%;text-align: center;vertical-align: top;"><span class="page-navigation-current">Main rate plans</span> <span class="page-navigation-page">(17 / 71)</span></td>
               <td style="width: 25%;text-align: right;vertical-align: top;"><span class="page-navigation-next">Configuring multiple vendors</span></td>
               <td style="text-align: right;vertical-align: top;"><a class="navigation-link" href="configuring-multiple-vendors.html" title="Next page: Configuring multiple vendors"><img alt="Next page" class="navigation-icon" height="16" src="res/next.png" width="16" /></a></td>
               <td style="text-align: right;vertical-align: top;"><a class="navigation-link" href="about.html" title="Last page: About"><img alt="Last page" class="navigation-icon" height="16" src="res/last.png" width="16" /></a></td>
            </tr>
         </table>
      </header>
      <section class="topic" id="Main_rate_plans">
         <h2 class="section2-title">Main rate plans</h2>
         <p class="shortdesc">The income <a class="xref" href="manual-6.html#Main_rate_plan">Main rate plan</a> and cost <a class="xref" href="manual-6.html#Main_rate_plan">Main rate plan</a> describe the rating plan logic, from an high-level point of view, using a domain
            specific language.
         </p>
         <div class="body">
            <div class="p"><a class="xref" href="manual-6.html#Main_rate_plan">Main rate plan</a> use <a class="xref" href="manual-6.html#CSV_rate">CSV rate</a> for storing rating details like matches between telephone prefixes and prices. For
               example in this cost rate
            </div><pre class="pre">rate {
  id: outgoing
  match-call-direction: outgoing
    
  rate {
    id: vendor1
    match-vendor: vendor1
    match-communication-channel: international-calls

    use: cost-for-vendor1
    # NOTE: this is a CSV file containing a cost-by-minute for every prefix

    set-cost-on-call: 0.02
    set-cost-for-minute: external
    # NOTE: use the cost specifieb by &quot;cost-for-vendor1&quot; CSV file
  }
}
</pre><div class="p">an outgoing call, routed by <a class="xref" href="manual-6.html#Vendor">Vendor</a> “vendor1”&quot; on <a class="xref" href="communication-channel-type.html#Communication_channel_type">Communication channel type</a> “international-calls” has an initial cost of “0.02”, and then it is rated by minute
               according the content of the <a class="xref" href="manual-6.html#CSV_rate">CSV rate</a> named “cost-for-vendor1”. The format of “cost-for-vendor1” rate can contains telephone
               prefixes, and corresponding cost for minute.
            </div>
            <div class="p">With this approach it is likely that the <a class="xref" href="manual-6.html#Main_rate_plan">Main rate plan</a> remain rather constant, while <a class="xref" href="manual-6.html#CSV_rate">CSV rate</a> can be changed often.
            </div>
            <div class="p">These plans are rather difficult to write the first time, because a new language had
               to be studied, but they are reasonable easy to read, and to adapt. So in case of difficulties
               you can ask for support, and then maintain them yourself.
            </div>
            <section class="section" id="Main_rate_plans__I_65a35l_">
               <h3 class="section-title">Free incoming and internal calls example</h3>
               <div class="p">With this cost <a class="xref" href="manual-6.html#Main_rate_plan">Main rate plan</a> all incoming and internal calls have 0 cost:
               </div><pre class="pre">    rate {
      id: free-incoming
      match-call-direction: incoming
      set-cost-on-call: 0
    }
    
    rate {
      id: free-internal
      match-call-direction: internal
      set-cost-on-call: 0
    }
</pre></section>
         </div>
      </section>
      <footer class="page-navigation-footer">
         <table class="page-navigation-layout" style="width: 100%;">
            <tr>
               <td style="text-align: left;vertical-align: top;"><a class="navigation-link" href="manual.html" title="First page: Asterisell Manual"><img alt="First page" class="navigation-icon" height="16" src="res/first.png" width="16" /></a></td>
               <td style="text-align: left;vertical-align: top;"><a class="navigation-link" href="importing-of-cdrs.html" title="Previous page: Importing of CDRS"><img alt="Previous page" class="navigation-icon" height="16" src="res/previous.png" width="16" /></a></td>
               <td style="width: 25%;text-align: left;vertical-align: top;"><span class="page-navigation-previous">Importing of CDRS</span></td>
               <td style="width: 40%;text-align: center;vertical-align: top;"><span class="page-navigation-current">Main rate plans</span> <span class="page-navigation-page">(17 / 71)</span></td>
               <td style="width: 25%;text-align: right;vertical-align: top;"><span class="page-navigation-next">Configuring multiple vendors</span></td>
               <td style="text-align: right;vertical-align: top;"><a class="navigation-link" href="configuring-multiple-vendors.html" title="Next page: Configuring multiple vendors"><img alt="Next page" class="navigation-icon" height="16" src="res/next.png" width="16" /></a></td>
               <td style="text-align: right;vertical-align: top;"><a class="navigation-link" href="about.html" title="Last page: About"><img alt="Last page" class="navigation-icon" height="16" src="res/last.png" width="16" /></a></td>
            </tr>
         </table>
      </footer>
   </div>
    </div>

    
  </body></html>